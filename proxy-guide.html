<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<link rel="icon" type="image/png" href="images/icons/OliveTinLogo.png">
<title>OliveTin documentation</title>
<style>
body {
  font-family: sans-serif;
  line-height: 1.5;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-areas: "nav content" "nav footer";
  grid-template-columns: 20em auto;
  grid-template-rows: auto min-content;
  height: 100vh;
  align-items: stretch;
}

a {
  text-decoration: none;
}

a:focus, #toc a:focus {
  background-color: black;
  color: white;
}

#header {
  background-color: #efefef;
  grid-area: nav;
}

#footer {
  grid-area: footer;
  justify-self: center;
  align-self: end;
  padding: 1em;
}

#toc {
  padding: 1em;
}

#toc a {
  color: black;
}

#toc li {
  padding-bottom: .6em;
}

#toc ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#toc ul ul {
  padding-left: 1.4em;
}

#toctitle {
  font-weight: bold;
  color: black;
}

h1 {
  font-size: 1.4em;
  font-weight: lighter;
  background-color: black;
  padding: .6em;
  margin: 0;
  color: white;
}

#toc a:hover {
  text-decoration: underline;
}

#content {
  background-color: white;
  grid-area: content;
  max-width: 1000px;
  padding: 1em;
  justify-self: center;
}

#content img {
  max-width: 100%;
  vertical-align: middle;
}

code {
  background-color: #f7f7f8;
}

pre {
  background-color: #f7f7f8;
  padding: 1em;
  word-wrap: break-word;
  white-space: no-wrap;
  overflow: auto;
}

table {
  border-collapse: collapse;
}

td, th {
  border: 1px solid gray;
  padding: .4em;
}

th {
  background-color: #f9f9f9;
  text-align: left;
}

.imageblock.right {
  float: right;
}

.imageblock .title {
  margin-bottom: 2em;
}

hr {
  clear: both;
  border: 0;
  border-bottom: 1px solid #efefef;
  margin: 1em;
}

div.admonitionblock.note {
  background-color: beige;
}

div.admonitionblock td {
  border: 0;
}

div.admonitionblock td:first-child {
  font-weight: bold;
}

.listingblock .title {
  background-color: #efefef;
  margin-bottom: -1em;
  padding: 1em;
}

.red {
  color: white;
  border: 1px solid black;
  padding: .2em;
  font-weight: bold;
  background-color: #cc0000;
}

.red a {
  color: white;
}

@media (max-width: 700px) {
  body {
    display: block;
  }
}


</style>
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="proxy-guide" class="book toc2 toc-left">
<div id="header">
<h1>OliveTin</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="index.html">OliveTin documentation</a></span></p><ul class="sectlevel1">
<li><a href="installation.html">Installation Guide</a>
</li>
<li><a href="config.html">Configuration</a>
</li>
<li><a href="reverse-proxies.html">Reverse Proxies</a>
<ul class="sectlevel2">
<li><a href="proxy-guide.html"><span class="toc-current">Reverse Proxy general guide</span></a>
</li>
<li><a href="apache-dns.html">Apache HTTPD</a>
</li>
<li><a href="haproxy-dns.html">Haproxy</a>
</li>
<li><a href="traefik-docker-compose.html">Traefik + Docker Compose</a>
</li>
<li><a href="nginx-dns.html">Nginx</a>
</li>
<li><a href="nginx-proxy-manager.html">Nginx Proxy Manager</a>
</li>
<li><a href="caddy-dns.html">Caddy</a>
</li>
</ul>
</li>
<li><a href="actions.html">Action execution</a>
</li>
<li><a href="action-customisation.html">Action customisation</a>
</li>
<li><a href="examples.html">Action examples</a>
</li>
<li><a href="args.html">Arguments</a>
</li>
<li><a href="dashboards.html">Dashboards</a>
</li>
<li><a href="entities.html">Entities</a>
</li>
<li><a href="_integrations.html">Integrations</a>
</li>
<li><a href="auth.html">Security</a>
</li>
<li><a href="solutions.html">Solutions</a>
</li>
<li><a href="_advanced_configuration.html">Advanced Configuration</a>
</li>
<li><a href="_reference.html">Reference</a>
</li>
<li><a href="troubleshooting.html">Support &amp; Troubleshooting</a>
</li>
<li><a href="api.html">API</a>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect2">
<h3 id="proxy-guide"><a class="anchor" href="#proxy-guide"></a><a class="link" href="#proxy-guide">Reverse Proxy general guide</a></h3>
<div class="paragraph">
<p>It&#8217;s common to put OliveTin behind a reverse proxy, for authentication, customizing the OliveTin address/path, or for a variety of other reasons.</p>
</div>
<div class="sect3">
<h4 id="_dns_name_vs_path_based_proxies"><a class="anchor" href="#_dns_name_vs_path_based_proxies"></a><a class="link" href="#_dns_name_vs_path_based_proxies">DNS name vs Path based proxies</a></h4>
<div class="paragraph">
<p>DNS Name based virtual hosts (eg: olivetin.example.com ) are easier to setup and configure than path based virtual hosts (eg: www.example.com/utils/OliveTin), because path based virtual hosts need to take care mangle OliveTin paths without breaking things.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If using a path based reverse proxies, you may need to set <code>externalRestAddress</code> manually to something like; <code><a href="http://example.com/utils/OliveTin" class="bare">http://example.com/utils/OliveTin</a></code> in the OliveTin config.yaml.</p>
</li>
<li>
<p>If using DNS Name based reverse proxies, then you should not need to change anything in config.yaml</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_which_port"><a class="anchor" href="#_which_port"></a><a class="link" href="#_which_port">Which port?</a></h5>
<div class="paragraph">
<p>If you look at OliveTin startup logs, you will see OliveTin starting services on several ports. For most users, even under reverse proxy configurations, just proxying port 1337 should be all that is needed. To better understand why OliveTin uses several internal ports by default, see <a href="network-ports.html">network-ports</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_handling_websockets"><a class="anchor" href="#_handling_websockets"></a><a class="link" href="#_handling_websockets">Handling websockets</a></h4>
<div class="paragraph">
<p>OliveTin versions after 2023-08 use websockets instead of polling for updates. Taking care to re-pass the <code>Connection: Upgrade</code> and <code>Upgrade: websocket</code> headers for the <code>/websocket</code> path.</p>
</div>
<div class="sect4">
<h5 id="_general_checklist"><a class="anchor" href="#_general_checklist"></a><a class="link" href="#_general_checklist">General checklist</a></h5>
<div class="ulist">
<ul>
<li>
<p><code>olivetin.example.com/*</code> is all just HTTP traffic (port 1337)</p>
<div class="ulist">
<ul>
<li>
<p><code>olivetin.example.com/</code> should show the standard webui (port 1337)</p>
</li>
<li>
<p><code>olivetin.example.com/webUiSettings.json</code> should return a JSON file generated by OliveTin that sets up the web interface. (port 1337)</p>
</li>
<li>
<p><code>olivetin.example.com/api</code> should how the REST based API. (port 1337)</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>olivetin.example.com/websocket</code> should be a websocket connection upgrade.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>↑ Up: <a href="reverse-proxies.html">Reverse Proxies</a> | ⌂ Home: <a href="index.html">OliveTin documentation</a> | Next: <a href="apache-dns.html">Apache HTTPD</a> →</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-07-30 22:00:04 UTC
</div>
</div>
</body>
</html>