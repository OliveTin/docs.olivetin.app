<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<link rel="icon" type="image/png" href="images/icons/OliveTinLogo.png">
<title>OliveTin documentation</title>
<style>
body {
  font-family: sans-serif;
  line-height: 1.5;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-areas: "nav content" "nav footer";
  grid-template-columns: 20em auto;
  grid-template-rows: auto min-content;
  height: 100vh;
  align-items: stretch;
}

a {
  text-decoration: none;
  color: #36f;
  font-weight: bold;
}

a:focus, #toc a:focus {
  background-color: black;
  color: white;
}

a:visited {
  color: #36f;
  font-weight: bold;
}

a:hover {
  text-decoration: underline;
}

#header {
  background-color: #fafafa;
  grid-area: nav;
  box-shadow: 0 0 10px #cecece;
}

#footer {
  grid-area: footer;
  justify-self: center;
  align-self: end;
  padding: 1em;
}

#toc {
  padding: 1em;
}

#toc a {
  color: black;
  font-weight: normal;
}

#toc li {
  padding-bottom: .6em;
}

#toc ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#toc ul ul {
  padding-left: 1.4em;
}

#toctitle {
  font-weight: bold;
  color: black;
}

#content ul {
  list-style: '\25b9    ';
}

h1 {
  font-size: 1.4em;
  font-weight: lighter;
  background-color: black;
  padding: .6em;
  margin: 0;
  color: white;
}

#toc a:hover {
  text-decoration: underline;
}

#content {
  background-color: white;
  grid-area: content;
  max-width: 1000px;
  padding: 1em;
  justify-self: center;
}

#content img {
  max-width: 100%;
  vertical-align: middle;
}

code {
  background-color: #f7f7f8;
}

pre {
  background-color: #f7f7f8;
  padding: 1em;
  word-wrap: break-word;
  white-space: no-wrap;
  overflow: auto;
}

table {
  border-collapse: collapse;
}

td, th {
  border: 1px solid gray;
  padding: .4em;
}

th {
  background-color: #f9f9f9;
  text-align: left;
}

.imageblock {
  float: center;
}

.imageblock.right {
  float: right;
}

.imageblock .title {
  margin-bottom: 2em;
}

.imageblock img {
  border-radius: 1em;
  box-shadow: 0 0 10px #cecece;
}

.imageblock.right img {
  box-shadow: none;
}


.listingblock {
  box-shadow: 0 0 10px #cecece;
  border-radius: 1em;
}

.listingblock .title {
  border-radius: 1em 1em 0 0;
}

.listingblock .title ~ .content, .listingblock .title ~ .content pre {
  border-radius: 0 0 1em 1em;
}

.listingblock .content, .listingblock .content pre {
  border-radius: 1em;
}

hr {
  clear: both;
  border: 0;
  border-bottom: 1px solid #efefef;
  margin: 1em;
}

div.admonitionblock.note {
  background-color: beige;
}

div.admonitionblock td {
  border: 0;
}

div.admonitionblock td:first-child {
  font-weight: bold;
}

.listingblock .title {
  background-color: #efefef;
  margin-bottom: -1em;
  padding: 1em;
}

.red {
  color: white;
  border: 1px solid black;
  padding: .2em;
  font-weight: bold;
  background-color: #cc0000;
}

.red a {
  color: white;
}

@media (max-width: 700px) {
  body {
    display: block;
  }
}


</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="upgrade-notes" class="book toc2 toc-left">
<div id="header">
<h1>OliveTin</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="index.html">OliveTin documentation</a></span></p><ul class="sectlevel1">
<li><a href="installation.html">Installation Guide</a>
</li>
<li><a href="config.html">Configuration</a>
</li>
<li><a href="reverse-proxies.html">Reverse Proxies</a>
</li>
<li><a href="actions.html">Action execution</a>
</li>
<li><a href="action-customisation.html">Action customisation</a>
</li>
<li><a href="examples.html">Action examples</a>
</li>
<li><a href="args.html">Arguments</a>
</li>
<li><a href="dashboards.html">Dashboards</a>
</li>
<li><a href="entities.html">Entities</a>
</li>
<li><a href="_integrations.html">Integrations</a>
</li>
<li><a href="auth.html">Security</a>
</li>
<li><a href="solutions.html">Solutions</a>
</li>
<li><a href="_advanced_configuration.html">Advanced Configuration</a>
</li>
<li><a href="_reference.html">Reference</a>
<ul class="sectlevel2">
<li><a href="network-ports.html">Network ports</a>
</li>
<li><a href="_security.html">Security</a>
</li>
<li><a href="_understanding_exit_codes.html">Understanding exit codes</a>
</li>
<li><a href="update-checks.html">Update Checks</a>
</li>
<li><a href="update-tracking.html">Update Checks &amp; Tracking (legacy)</a>
</li>
<li><a href="container-dnf.html">Installing extra container packages</a>
</li>
<li><a href="multi-inst.html">Multiple instances on a server</a>
</li>
<li><a href="snapsnots.html">Snapshot builds</a>
</li>
<li><a href="themes.html">Themes (for users)</a>
</li>
<li><a href="themes-dev.html">Themes (for theme developers)</a>
</li>
<li><a href="contribute.html">Contribute</a>
</li>
<li><a href="donations-and-sponsorship.html">Donations &amp; Sponsorship</a>
</li>
<li><a href="upgrade-notes.html"><span class="toc-current">Upgrade Notes</span></a>
</li>
</ul>
</li>
<li><a href="troubleshooting.html">Support &amp; Troubleshooting</a>
</li>
<li><a href="api.html">API</a>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect2">
<h3 id="upgrade-notes"><a class="anchor" href="#upgrade-notes"></a><a class="link" href="#upgrade-notes">Upgrade Notes</a></h3>
<div class="paragraph">
<p>OliveTin releases are published to GitHub, and the release notes are contained there. This page includes a summary of "Upgrade Notes" for breaking changes between releases.</p>
</div>
<div class="sect3">
<h4 id="_2024_08_14"><a class="anchor" href="#_2024_08_14"></a><a class="link" href="#_2024_08_14">2024.08.14</a></h4>
<div class="sect4">
<h5 id="_navigation_change_subpaths_no_longer_supported"><a class="anchor" href="#_navigation_change_subpaths_no_longer_supported"></a><a class="link" href="#_navigation_change_subpaths_no_longer_supported">Navigation change - Subpaths no longer supported</a></h5>
<div class="paragraph">
<p>In the past, OliveTin supported subpaths in the URL, for example, <code><a href="http://yourServer:1337/olivetin/" class="bare">http://yourServer:1337/olivetin/</a></code> would load the OliveTin web interface. This was convenient for people who wanted to run OliveTin on a subpath of their domain for some reason, but it actually creates a lot of complexity in the code, and makes it harder to maintain. One particular change that was wanted was to be able to link to specific pages in OliveTin, for example, <code><a href="http://yourServer:1337/logs" class="bare">http://yourServer:1337/logs</a></code> or <code><a href="http://yourServer:1337/myDashboard/myFolder" class="bare">http://yourServer:1337/myDashboard/myFolder</a></code> - this became incredibly difficult to implement with the subpath support.</p>
</div>
<div class="paragraph">
<p>Therefore, OliveTin no longer supports subpaths in the URL. If you have been using OliveTin with a subpath, you will need to change your configuration to use a subdomain or a different port.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2024_04_09"><a class="anchor" href="#_2024_04_09"></a><a class="link" href="#_2024_04_09">2024.04.09</a></h4>
<div class="sect4">
<h5 id="_themes_directory_for_theme_users"><a class="anchor" href="#_themes_directory_for_theme_users"></a><a class="link" href="#_themes_directory_for_theme_users">Themes Directory (for theme users)</a></h5>
<div class="sect5">
<h6 id="_background"><a class="anchor" href="#_background"></a><a class="link" href="#_background">Background</a></h6>
<div class="paragraph">
<p>Until now, OliveTin has served the themes directory from the "webui" directory, normally <code>/var/www/olivetin/themes</code> on most installations. If you wanted to install a theme, you would put the theme in to that directory.</p>
</div>
<div class="paragraph">
<p>This was a bit cumbersome, because OliveTin treats the content of the "webui" directory as disposable / part of the system, whereas themes are much more like "user data" and "configuration". It also meant that people using Linux Containers had to bind-mount a separate directory for themes.</p>
</div>
</div>
<div class="sect5">
<h6 id="_upgrade"><a class="anchor" href="#_upgrade"></a><a class="link" href="#_upgrade">Upgrade</a></h6>
<div class="paragraph">
<p>Now themes are stored in the "configdir" (wherever OliveTin finds it&#8217;s config file, eg <code>/config</code> in containers), under the subdirectory <code>custom-webui/themes</code>. OliveTin will try to create the <code>custom-webui</code> folder in your configdir if it doesn&#8217;t find it.</p>
</div>
<div class="paragraph">
<p>The advantage of this change is that themes are stored with your config, as part of your data.</p>
</div>
<div class="paragraph">
<p>To upgrade, simply move any themes you might have into your configdir, under <code>custom-webui/themes/</code>. eg:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="s">.</span>
<span class="s">├── config.yaml</span>
<span class="s">├── custom-webui</span>
<span class="s">│   └── themes</span>
<span class="s">│       └── custom-icons</span>
<span class="s">│           ├── icon.png</span>
<span class="s">│           └── theme.css</span>
<span class="s">├── entities</span>
<span class="s">│   ├── containers.json</span>
<span class="s">│   ├── heating.yaml</span>
<span class="s">│   ├── servers2.yml</span>
<span class="s">│   ├── servers.yaml</span>
<span class="s">│   └── systemd_units.json</span>
<span class="s">└── installation-id.txt</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_theme_asset_paths_for_theme_developers"><a class="anchor" href="#_theme_asset_paths_for_theme_developers"></a><a class="link" href="#_theme_asset_paths_for_theme_developers">Theme Asset Paths (for theme developers)</a></h5>
<div class="sect5">
<h6 id="_background_2"><a class="anchor" href="#_background_2"></a><a class="link" href="#_background_2">Background</a></h6>
<div class="paragraph">
<p>OliveTin had to send the theme name to the browser, so that some javascript could then request <code><a href="http://yourServer:1337/themes/myTheme/theme.css" class="bare">http://yourServer:1337/themes/myTheme/theme.css</a></code>, and load it as a stylesheet. This had the following problems;</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This was slow (could take up to a second)</p>
</li>
<li>
<p>This creates a "flash" in the browser, as the new theme.css is loaded over the top of the existing stylesheet.</p>
</li>
<li>
<p>Browsers could not cache this theme.css with the page load.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_upgrade_2"><a class="anchor" href="#_upgrade_2"></a><a class="link" href="#_upgrade_2">Upgrade</a></h6>
<div class="paragraph">
<p>The new behavior is that OliveTin will always try to load <code><a href="http://yourServer:1337/theme.css" class="bare">http://yourServer:1337/theme.css</a></code> as part of the static HTML that is sent to the browser. This means that regular caching can cache the theme.css, and this effectively elliminates the slowness and "flashing" when the browser renders the page.</p>
</div>
<div class="paragraph">
<p>Internally, OliveTin maps <code><a href="http://yourServer:1337/theme.css" class="bare">http://yourServer:1337/theme.css</a></code> to the <code>theme.css</code> of whatever the theme is set to with <code>themeName</code>, for example, it could map to <code>themes/myTheme/theme.css</code>.</p>
</div>
<div class="paragraph">
<p>As a theme developer, normally you would reference a background image, or similar using <code>./background.png</code>, but OliveTin is loading the theme.css as the directory root, and the themes' assets from the custom-webui theme directory. Therefore you need to update paths to be like; <code>background-image: "/custom-webui/themes/myTheme/background.png</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>← Previous: <a href="donations-and-sponsorship.html">Donations &amp; Sponsorship</a> | ↑ Up: <a href="_reference.html">Reference</a> | ⌂ Home: <a href="index.html">OliveTin documentation</a> | Next: <a href="troubleshooting.html">Support &amp; Troubleshooting</a> →</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-02-19 00:45:49 UTC
</div>
</div>
</body>
</html>