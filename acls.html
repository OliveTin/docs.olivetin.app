<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<link rel="icon" type="image/png" href="images/icons/OliveTinLogo.png">
<title>OliveTin documentation</title>
<style>
body {
  font-family: sans-serif;
  line-height: 1.5;
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-areas: "nav content" "nav footer";
  grid-template-columns: 20em auto;
  grid-template-rows: auto min-content;
  height: 100vh;
  align-items: stretch;
}

a {
  text-decoration: none;
  color: #36f;
  font-weight: bold;
}

a:focus, #toc a:focus {
  background-color: black;
  color: white;
}

a:visited {
  color: #36f;
  font-weight: bold;
}

a:hover {
  text-decoration: underline;
}

#header {
  background-color: #fafafa;
  grid-area: nav;
  box-shadow: 0 0 10px rgba(0, 0, 0, .4);
}

#footer {
  grid-area: footer;
  justify-self: center;
  align-self: end;
  padding: 1em;
}

#toc {
  padding: 1em;
}

#toc a {
  color: black;
  font-weight: normal;
}

#toc li {
  padding-bottom: .6em;
}

#toc ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#toc ul ul {
  padding-left: 1.4em;
}

#toctitle {
  font-weight: bold;
  color: black;
}

#content ul {
  list-style: '\25b9    ';
}

h1 {
  font-size: 1.4em;
  font-weight: lighter;
  background-color: black;
  padding: .6em;
  margin: 0;
  color: white;
}

#toc a:hover {
  text-decoration: underline;
}

#content {
  background-color: white;
  grid-area: content;
  max-width: 1000px;
  padding: 1em;
  justify-self: center;
}

#content img {
  max-width: 100%;
  vertical-align: middle;
}

code {
  background-color: #f7f7f8;
}

pre {
  background-color: #f7f7f8;
  padding: 1em;
  word-wrap: break-word;
  white-space: no-wrap;
  overflow: auto;
}

table {
  border-collapse: collapse;
}

td, th {
  border: 1px solid gray;
  padding: .4em;
}

th {
  background-color: #f9f9f9;
  text-align: left;
}

.imageblock {
  float: center;
}

.imageblock.right {
  float: right;
}

.imageblock .title {
  margin-bottom: 2em;
}

.imageblock img {
  border-radius: 1em;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
}

.imageblock.right img {
  box-shadow: none;
}


.listingblock {
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
  border-radius: 1em;
}

.listingblock .title {
  border-radius: 1em 1em 0 0;
}

.listingblock .title ~ .content, .listingblock .title ~ .content pre {
  border-radius: 0 0 1em 1em;
}

.listingblock .content, .listingblock .content pre {
  border-radius: 1em;
}

hr {
  clear: both;
  border: 0;
  border-bottom: 1px solid #efefef;
  margin: 1em;
}

div.admonitionblock.note {
  background-color: beige;
}

div.admonitionblock td {
  border: 0;
}

div.admonitionblock td:first-child {
  font-weight: bold;
}

.listingblock .title {
  background-color: #efefef;
  margin-bottom: -1em;
  padding: 1em;
}

.red {
  color: white;
  border: 1px solid black;
  padding: .2em;
  font-weight: bold;
  background-color: #cc0000;
}

.red a {
  color: white;
}

@media (max-width: 700px) {
  body {
    display: block;
  }
}


</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
<style>.toc-current{font-weight: bold;} .toc-root{font-family: "Open Sans","DejaVu Sans",sans-serif;
                       font-size: 0.9em;} #content{display: flex; flex-direction: column; flex: 1 1 auto;}
             .nav-footer{text-align: center; margin-top: auto;}
             .nav-footer > p > a {white-space: nowrap;}</style>
</head>
<body id="acls" class="book toc2 toc-left">
<div id="header">
<h1>OliveTin</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<p><span class="toc-root"><a href="index.html">OliveTin documentation</a></span></p><ul class="sectlevel1">
<li><a href="installation.html">Installation Guide</a>
</li>
<li><a href="config.html">Configuration</a>
</li>
<li><a href="reverse-proxies.html">Reverse Proxies</a>
</li>
<li><a href="actions.html">Action execution</a>
</li>
<li><a href="action-customisation.html">Action customisation</a>
</li>
<li><a href="examples.html">Action examples</a>
</li>
<li><a href="args.html">Arguments</a>
</li>
<li><a href="dashboards.html">Dashboards</a>
</li>
<li><a href="entities.html">Entities</a>
</li>
<li><a href="_integrations.html">Integrations</a>
</li>
<li><a href="auth.html">Security</a>
<ul class="sectlevel2">
<li><a href="auth-concepts.html">Concepts</a>
</li>
<li><a href="acls.html"><span class="toc-current">Access Control Lists (Permissions)</span></a>
</li>
<li><a href="trusted-header.html">Trusted Header Authorization</a>
</li>
<li><a href="jwt.html">JWT Authorization</a>
</li>
<li><a href="jwt-keys.html">JWT with Keys</a>
</li>
<li><a href="jwt-hmac.html">JWT with HMAC</a>
</li>
<li><a href="oauth2.html">OAuth2</a>
</li>
<li><a href="oauth2-authentik.html">OAuth2 - Authentik</a>
</li>
<li><a href="local-users.html">Local Users Login</a>
</li>
<li><a href="example-login-required.html">Example: Dashboards that requires login</a>
</li>
</ul>
</li>
<li><a href="_full_example_configuration.html">Full example configuration</a>
</li>
<li><a href="solutions.html">Solutions</a>
</li>
<li><a href="_advanced_configuration.html">Advanced Configuration</a>
</li>
<li><a href="_reference.html">Reference</a>
</li>
<li><a href="troubleshooting.html">Support &amp; Troubleshooting</a>
</li>
<li><a href="api.html">API</a>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect2">
<h3 id="acls"><a class="anchor" href="#acls"></a><a class="link" href="#acls">Access Control Lists (Permissions)</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This page is marked as "earlydoc", which means that it more of a collection of notes and an early draft before this page turns into good documentation later on. It is hoped that this early form of documentation is useful to you, but please understand that most documentation pages are higher quality than this. If you have suggestions or comments, please do get in contact or consider contributing your suggestions to the OliveTin documentation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can control access to actions within OliveTin on a per-user basis, using Access Control Lists (ACL), which work by grouping an Action, a User (or User Group), and a List of Permissions.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>graph TD
    A[Action] --&gt;|ACL| B[ACL]
    B --&gt;|User/UserGroup| C[User/UserGroup]
    B --&gt;|Permissions| D[Permissions]</pre>
</div>
</div>
<div class="paragraph">
<p>An action always starts with <code>defaultPermissions</code> (see below), and then then have one or more ACLs applied to it. This means that you can for example have an action that is only available to a certain group of users, or only to a single user.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s say you have a user <code>james</code> and a usergroup <code>admins</code>. You can then create an ACL that only allows <code>james</code> and users in the <code>admins</code> group to view and execute an action.</p>
</div>
<div class="paragraph">
<p>You can specify default permissions for all actions by changing the <code>defaultPermissions</code> like this;</p>
</div>
<div class="listingblock">
<div class="title"><code>config.yaml</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">defaultPermissions</span><span class="pi">:</span>
  <span class="na">view</span><span class="pi">:</span> <span class="kc">false</span>
  <span class="na">exec</span><span class="pi">:</span> <span class="kc">false</span>
  <span class="na">logs</span><span class="pi">:</span> <span class="kc">true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, all users will start off with the permissions to only see action logs - but will not be able to view or execute actions.</p>
</div>
<div class="paragraph">
<p>It is then possible to add an "admins" ACL on top of every action. In the example below, we define one extra ACL called "admins", which matches any users with the usergroup also called "admins". This ACL will then be applied to all actions, and will allow users in the "admins" usergroup to view and execute the action.</p>
</div>
<div class="listingblock">
<div class="title"><code>config.yaml</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">defaultPermissions</span><span class="pi">:</span>
  <span class="na">view</span><span class="pi">:</span> <span class="kc">false</span>
  <span class="na">exec</span><span class="pi">:</span> <span class="kc">false</span>

<span class="na">accessControlLists</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">admins</span>
    <span class="na">matchUsergroups</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">admins</span>
    <span class="na">permissions</span><span class="pi">:</span>
      <span class="na">view</span><span class="pi">:</span> <span class="kc">true</span>
      <span class="na">exec</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">actions</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">title</span><span class="pi">:</span> <span class="s">Shutdown Reactor</span>
    <span class="na">acls</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">admins</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_acl_matching_usernames_and_usergroups"><a class="anchor" href="#_acl_matching_usernames_and_usergroups"></a><a class="link" href="#_acl_matching_usernames_and_usergroups">ACL Matching - usernames and usergroups.</a></h4>
<div class="paragraph">
<p>You can match users based on their usergroup which is the most common, but it is also possible to match based on the user&#8217;s username.</p>
</div>
<div class="listingblock">
<div class="title"><code>config.yaml</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">accessControlLists</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">admins</span>
    <span class="na">matchUsergroups</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">admins</span>
    <span class="na">permissions</span><span class="pi">:</span>
      <span class="na">view</span><span class="pi">:</span> <span class="kc">true</span>
      <span class="na">exec</span><span class="pi">:</span> <span class="kc">true</span>

  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">james</span>
    <span class="na">matchUserNames</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">james</span>
    <span class="na">permissions</span><span class="pi">:</span>
      <span class="na">view</span><span class="pi">:</span> <span class="kc">true</span>
      <span class="na">exec</span><span class="pi">:</span> <span class="kc">true</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_an_acl_to_every_action"><a class="anchor" href="#_add_an_acl_to_every_action"></a><a class="link" href="#_add_an_acl_to_every_action">Add an ACL to every action</a></h4>
<div class="paragraph">
<p>Sometimes you want to define an ACL that applies to all actions. It can be tedious and error prone to manually add the ACL under the "acls" list for every action, if you have several actions. Instead, there is a shortcut to add an ACL to all actions - <code>addToEveryAction: true</code>.</p>
</div>
<div class="listingblock">
<div class="title"><code>config.yaml</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"><span class="na">accessControlLists</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">admins</span>
    <span class="na">matchUsergroups</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">admins</span>
    <span class="na">permissions</span><span class="pi">:</span>
      <span class="na">view</span><span class="pi">:</span> <span class="kc">true</span>
      <span class="na">exec</span><span class="pi">:</span> <span class="kc">true</span>
    <span class="na">addToEveryAction</span><span class="pi">:</span> <span class="kc">true</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph nav-footer">
<p>← Previous: <a href="auth-concepts.html">Concepts</a> | ↑ Up: <a href="auth.html">Security</a> | ⌂ Home: <a href="index.html">OliveTin documentation</a> | Next: <a href="trusted-header.html">Trusted Header Authorization</a> →</p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-01-06 22:10:46 UTC
</div>
</div>
</body>
</html>