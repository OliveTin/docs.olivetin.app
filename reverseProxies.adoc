[#reverse-proxies]
== Reverse Proxies

This section of the documentation has a few examples of reverse proxy configurations for popular reverse proxy servers.

Configuring a reverse proxy server for OliveTin is entirely optional. If you don't want to use a reverse proxy, you can skip this section.

[#haproxy-dns]
=== Haproxy - DNS based

This is a straightforward example of how to setup a DNS name based HAProxy setup for OliveTin.

----
frontend cleartext_frontend
    mode http
    bind 0.0.0.0:80

    option httplog

    use_backend be_olivetin if { hdr(Host) -i olivetin.example.com }

backend be_olivetin
    server olivetinServer 192.168.0.1:1337 check

----

[#traefik-docker-compose]
=== Traefik + Docker Compose

Please see the <<docker-compose-traefik,traefik section, in the docker compose installation instructions>> for details.

[#nginx-path]
=== Nginx - Path based

.nginx.conf
----
....
        location /OliveTin/ {
                proxy_pass http://localhost:1337/;
                proxy_redirect http://localhost:1337/ http://localhost/OliveTin/;
        }
....
----

include::fragment-external-rest.adoc[]

[#caddy-path]
=== Caddy - Path based

.Caddyfile
----
....
	handle {$GLOBAL_PORTAL_PATH}/olivetin* {
			redir {$GLOBAL_PORTAL_PATH}/olivetin {$GLOBAL_PORTAL_PATH}/olivetin/
			uri strip_prefix {$GLOBAL_PORTAL_PATH}/olivetin       
			basicauth {              
					{$GLOBAL_USER} HASH
			}     
			reverse_proxy * localhost:1337
	}
....
----

include::fragment-external-rest.adoc[]


